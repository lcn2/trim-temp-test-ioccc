<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- START: two lines up starts content from: inc/top.default.html -->

<!-- END: this line ends content from: inc/top.default.html -->
<!-- START: this line starts content from: inc/head.default.html -->

<head>
<link rel="stylesheet" href="../../ioccc.css">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>1992/buzzard.1 - Most Obfuscated Algorithm</title>
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<meta name="description" content="1992 IOCCC entry buzzard.1 - Most Obfuscated Algorithm">
<meta name="keywords" content="IOCCC, 1992, IOCCC 1992, IOCCC entry, buzzard.1, Most Obfuscated Algorithm">
</head>

<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->

<!-- END: this line ends content from: inc/head.default.html -->

<!-- -->
<!-- This web page was formed via the tool: bin/readme2index.sh -->
<!-- The content of main section of this web page came from: 1992/buzzard.1/README.md -->
<!-- -->

<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- !!! Do not modify this web page, instead modify the file: 1992/buzzard.1/README.md !!! -->
<!-- !!! Do not modify this web page, instead modify the file: 1992/buzzard.1/README.md !!! -->
<!-- !!! Do not modify this web page, instead modify the file: 1992/buzzard.1/README.md !!! -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->

<!-- Markdown content was converted into HTML via the tool: bin/md2html.sh -->

<!-- START: this line starts content from: inc/body.default.html -->

<body>

<!-- END: this line ends content from: inc/body.default.html -->
<!-- START: this line starts content from: inc/topbar.default.html -->

<div class="theader">
  <nav class="topbar">
    <div class="container">
      <div class="logo">
        IOCCC
      </div>

      <div class="topbar-items">
        <div class="item">
          <span class="item-header">
            Home
          </span>

          <div class="sub-item">
            <div class="outfit-font"><a href="../../index.html">IOCCC Home</a></div>
            <div class="outfit-font"><a href="../../years.html">Winning Entries</a></div>
            <div class="outfit-font"><a href="../../authors.html">People who have won</a></div>
            <div class="outfit-font"><a href="../../location.html">Location of authors</a></div>
          </div>
        </div>

        <div class="item">
          <span class="item-header">
            News
          </span>

          <div class="sub-item">
            <div class="outfit-font"><a href="../../news.html">IOCCC News</a></div>
            <div class="outfit-font"><a href="../../status.html">Contest status</a></div>
            <div class="outfit-font"><a href="../../next/index.html">Rules and Guidelines</a></div>
            <div class="outfit-font"><a href="../../faq.html#submit">How to enter the IOCCC</a></div>
            <div class="outfit-font"><a href="../../faq.html">FAQ</a></div>
          </div>
        </div>

        <div class="item">
          <span class="item-header">
            Bugs
          </span>

          <div class="sub-item">
            <div class="outfit-font"><a href="../../bugs.html">Bugs &amp; (mis)features</a></div>
            <div class="outfit-font"><a href="../../faq.html#fix_an_entry">Fixing IOCCC entries</a></div>
            <div class="outfit-font"><a href="../../faq.html#fix_web_site">Fixing the web site</a></div>
            <div class="outfit-font"><a href="../../faq.html#fix_author">Fixing author info</a></div>
            <div class="outfit-font"><a href="../../thanks-for-help.html">Thanks for the help</a></div>
          </div>
        </div>

        <div class="item">
          <span class="item-header">
            Judges
          </span>

          <div class="sub-item">
            <div class="outfit-font"><a href="../../judges.html">The IOCCC Judges</a></div>
            <div class="outfit-font"><a href="../../contact.html">Contacting the IOCCC</a></div>
          </div>
        </div>
      </div>
    </div>
  </nav>
</div>

<!-- END: this line ends content from: inc/topbar.default.html -->
<!-- START: this line starts content from: inc/header.default.html -->

<div class="header">
  <img src="../../png/ioccc.png" alt="IOCCC image by Matt Zucker" width=300 height=110>
  <h1>The International Obfuscated C Code Contest</h1>
  <h2>1992/buzzard.1 - Most Obfuscated Algorithm</h2>
</div>

<!-- END: this line ends content from: inc/header.default.html -->
<!-- START: this line starts content from: inc/navbar.mid.html -->

<div class="navbar">
  <a class="Left" href="../ant/index.html">&larr; ant</a>
  <a class="Left" href="../index.html">&uarr; 1992 &uarr;</a>
  <a class="Left" href="../buzzard.2/index.html">buzzard.2 &rarr;</a>
  <a class="Right" href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/buzzard.1.c">C code</a>
  <a class="Right" href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/Makefile">Makefile</a>
  <a class="Right" href="#inventory">Inventory</a>
  <a class="Right" href="https://validator.w3.org/nu/?doc=https%3A%2F%2Fioccc-src.github.io%2Ftemp-test-ioccc%2F1992%2Fbuzzard.1%2Findex.html">&#x2713;</a>
</div>

<!-- END: this line ends content from: inc/navbar.mid.html -->
<!-- START: this line starts content from: inc/before-content.default.html -->

    <div class="content" id="content">

<!-- END: this line ends content from: inc/before-content.default.html -->
<!-- START: this line starts content for HTML phase 20 by: bin/output-index-author.sh via bin/md2html.sh -->

<!-- START: this line starts content generated by: bin/output-index-author.sh -->

<h2 id="author">Author:</h2>
<ul>
<li>Name: <a href="../../authors.html#Sean_Barrett">Sean Barrett</a><br>
Location: <a href="../../location.html#ZZ">ZZ</a> - <em>Unknown location</em></li>
</ul>

<!-- END: next line ends content generated by: bin/output-index-author.sh -->

<!-- END: this line ends content for HTML phase 20 by: bin/output-index-author.sh via bin/md2html.sh -->
<!-- START: this line starts content for HTML phase 21 by: bin/pandoc-wrapper.sh via bin/md2html.sh -->

<h2 id="to-build">To build:</h2>
<pre><code>    make all</code></pre>
<h2 id="to-use">To use:</h2>
<pre><code>    ./buzzard.1 num num</code></pre>
<h2 id="try">Try:</h2>
<pre><code>    ./try.sh</code></pre>
<h2 id="judges-remarks">Judges’ remarks:</h2>
<p>To see good C Preprocessor buzzard.1, try:</p>
<pre><code>    make babble.cppcb
    cat babble.cppcb</code></pre>
<p>Notice how many statements it takes to do anything useful?</p>
<h2 id="authors-remarks">Author’s remarks:</h2>
<p>What you shouldn’t think about <code>buzzard.1</code>:</p>
<p><code>buzzard.1</code> doesn’t just do a mass of <code>#define</code>s as its obfuscation.</p>
<h3 id="what-you-should-be-glad-about">What you should be glad about:</h3>
<p>I didn’t just submit the post-C-preprocessed output as an entry.</p>
<h4 id="cute-trick-warning">Cute trick warning</h4>
<p><code>buzzard.1</code> contains only a numeric <code>printf(3)</code>, yet sometimes it prints out
short strings.</p>
<h3 id="what-it-does">What it does</h3>
<p><code>buzzard.1</code> is a simple mathematical program. It expects two numeric
arguments.</p>
<pre><code>    ./buzzard.1 0 &lt;num&gt;</code></pre>
<p>will print out the factorial of <code>&lt;num&gt;</code>.</p>
<pre><code>    ./buzzard.1 &lt;num1&gt; &lt;num2&gt;</code></pre>
<p>will print out the largest common factor of <code>num1</code> and <code>num2</code>.</p>
<pre><code>    ./buzzard.1 1 &lt;num2&gt;</code></pre>
<p>will print out a factor of <code>num2</code> if it’s composite, or else
it will print a string informing you that <code>num2</code> is prime.</p>
<p>If the first argument is less than 0, it prints out an
error message.</p>
<h3 id="what-it-is">What it is</h3>
<p><code>buzzard.1</code> is a translator from a pseudo-assembly language into a subset of C
suitable for execution on Charles Babbage’s Analytical Engine. Or rather, the
<code>#define</code>s in <code>buzzard.1</code> are that translator. The rest of <code>buzzard.1</code> is a
<code>buzzard.1</code> program. If you run the whole mess through CPP and a beautifier, you
will see that all you have is a loop that runs until a variable is not 0, and a
sequence of assignment statements. The assignment statements are all of the
form <code>a op= b</code> or <code>a = b</code>. The Engine actually allowed ‘a = b op c’. Only <code>+</code>,
<code>-</code>, <code>/</code>, and <code>*</code> are used–no boolean or bitwise operators. The infinite loop
could have been simulated on the AE by connecting the already-processed card
stack to the input card stack.</p>
<h3 id="how-to-try-to-understand-it">How to try to understand it</h3>
<p><em>Don’t</em> expand the <code>#define</code>s! Rather, decipher what they do.
Some of them are mere obfuscation fodder, put in to encourage
you to run it through CPP.</p>
<h3 id="what-it-doesnt-do-quite-right-as-an-emulator">What it doesn’t do quite right as an emulator</h3>
<p>Because of the definitional constraints, calls to <code>atoi(argv[#])</code> also appear
inside the loop. These could be put outside–the initial values of the
“registers” on the AE–but the macro conventions being used didn’t lend
themselves to it.</p>
<h3 id="theoretical-observations">Theoretical observations</h3>
<p>The simulated comparison operations only work with a certain range of numbers;
numbers that are too large will cause the output code to fail to simulate the
input code. This means that this implementation of <code>buzzard.1</code> would not be
Turing-complete, even if the AE could process indefinitely-sized numbers.
However, this is actually a constraint that no actual computer can meet, either,
so we can conclude that if an AE, with card bins connected as suggested above,
were hooked up to a memory unit of sufficient size, it would be as Turing
complete as any existing machine (or, for those who interpret that excessively
critically, i.e. “not at all” for both, we can simply say that the AE could
simulate any existing machine–although not quickly). This would be a good
place to site some references on the AE, but I don’t have any.</p>
<h3 id="definition-of-the-input-language-to-buzzard.1-or-what-exactly-do-all-the-macros-do">Definition of the input language to buzzard.1 (OR What Exactly Do All The Macros Do?)</h3>
<p>[Don’t read this unless you’re stumped!]</p>
<pre><code>    MACRO               FUNCTION                                MNEMONIC

    V               begin variable declarations         Variable
    C               begin program                               Code

    Q(b,a)          let b = a                           eQuals
    A(c,a,b)        let c = a + b                               Add
    S(c,a,b)        let c = a - b                               Subtract
    D(c,a,b)        let c = a / b, where b is a *constant*  Divide
    U(c,a,b)        let c = a / b, where b is anything      Unknown
    M(c,a,b)        let c = a * b                               Multiply

    O(c,a,b)        let c = a boolean-or b (a,b are 0 or 1) Or
    B(b, a)         let b = boolean value of a          Boolean
    P(b, a)         let b = 1 if a&gt;0, else 0.           Positive

    l               emit next sequential label          Label
    J(x)            goto label #x                               Jump

    Z(a,d)          if a is 0 goto d    (a is 0 or 1)   Zero
    E(a,d)          if a is 1 goto d    (a is 0 or 1)   Else

    H               halt                                        Haly

    K(x)            let x = number of cmd line arguments        Kount
    G(x,y)          let x = the value if the yth argument   Get argument

    T               end of code; begin output section   Terminate
    X(y)            print out hexadecimal value of y    heXadecimal
    T               end of output section and program   Terminate</code></pre>
<p>You can figure out the other macros yourself. In the sample program, I’ve
actually implemented subroutines by saving a return address in a variable and
then jumping to a routine– specifically, a routine that converts a number into
BCD, so it can be output by the hexadecimal output statement.</p>
<h3 id="how-it-works-i.e.-how-to-get-useful-programs-from-a-op-b">How it works, i.e., how to get useful programs from a op= b</h3>
<p>The essential statement to be able to make interesting
programs is the conditional (given that we have loops).
Since all you can do in the given operation output set is
assignment, we implement “conditional assignment”:</p>
<pre><code>    if (x) y = z;</code></pre>
<p>To implement this, we constrain <code>x</code> to be either 0 or 1, and
simply compute:</p>
<pre><code>    y = (z * x) + (y * (1-x));</code></pre>
<p>This is more obscured by factoring out common terms and restricting
ourselves to two operand operations:</p>
<pre><code>    temp = z;                       (temp == z)
    temp -= y;                      (temp == z-y)
    temp *= x;                      (temp == (z-y)*x)
    y += temp;                      (y    == (z-y)*x + y)
                                    (     == z*x - y*x + y)
                                    (     == z*x + y*(1-x))</code></pre>
<p>Next we imagine we have a <a href="https://en.wikipedia.org/wiki/Program_counter">pc</a>.
“I’m supposed to execute statement pc next”, says our emulator. But suppose
we’re not currently coming up on statement pc. To handle this, we simply make
every operation conditional on the pc having the correct value:</p>
<pre><code>    if (pc == some_constant) y = z;</code></pre>
<p>To combine this with other operations, we simply multiply by our
(<code>pc == some_constant</code>) flag right after the above <code>temp *= x</code>.</p>
<p>To evaluate <code>pc == some_constant</code> requires one more trick. We assume that
numbers can only be in some limited range. Then we use successive additions and
divisions to reduce that number down to <code>-1</code>, <code>0</code>, or <code>1</code>. You could, for
instance, do this by using mod by <code>2</code> and div by <code>2</code> to count bits, stopping
after, say, <code>32</code> iterations. The number you get is between <code>0..32</code>, so another
<code>6</code> iterations on it reduces it to <code>0..6</code>. Three iterations on this produces
<code>0..2</code> (<code>3</code> would be <code>7</code>), and then two iterations on this produces 0 or 1.
Instead I use a shorter two-divide approach that assumes I’m allowed to use
numbers slightly larger than the numbers I’m operating on.</p>
<p>A similar approach is used to detect positive numbers.</p>
<p>Note that the obvious code to compute <code>y/x</code> will not work correctly,
because every value is computed, even if the pc is not set correctly;
if <code>x</code> is ever <code>0</code> when the real C code reaches this computation the
program will die. (This was discovered the hard way.) The solution
is to stick <code>x</code> in a temporary, and if the current code is not about
to be executed, set the temporary to <code>1</code>.</p>
<p>Thanks to Bill Pugh for bringing the loop-ability of the AE to
my attention.</p>
<p><code>buzzard.1</code> was originally named ‘cb’, for obvious reasons, and is
dedicated to the memory of Charles Barrett.</p>
<!--

    Copyright © 1984-2024 by Landon Curt Noll. All Rights Reserved.

    You are free to share and adapt this file under the terms of this license:

        Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)

    For more information, see:

        https://creativecommons.org/licenses/by-sa/4.0/

-->

<!-- END: this line ends content for HTML phase 21 by: bin/pandoc-wrapper.sh via bin/md2html.sh -->
<!-- START: this line starts content for HTML phase 22 by: bin/output-index-inventory.sh via bin/md2html.sh -->

<!-- START: this line starts content generated by: bin/output-index-inventory.sh -->

<div id="inventory">
<h1 id="inventory-for-1992buzzard.1">Inventory for 1992/buzzard.1</h1>
</div>
<p><a href="#top">Jump to top</a></p>
<h2 id="primary-files">Primary files</h2>
<ul>
<li><a href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/buzzard.1.c">buzzard.1.c</a> - entry source</li>
<li><a href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/Makefile">Makefile</a> - entry Makefile</li>
<li><a href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/buzzard.1.orig.c">buzzard.1.orig.c</a> - original source</li>
<li><a href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/try.sh">try.sh</a> - how to run</li>
</ul>
<h2 id="secondary-files">Secondary files</h2>
<ul>
<li><a href="1992_buzzard.1.tar.bz2">1992_buzzard.1.tar.bz2</a> - download entry tarball</li>
<li><a href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/README.md">README.md</a> - markdown source for this web page</li>
<li><a href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/.entry.json">.entry.json</a> - description of entry in JSON</li>
<li><a href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/.gitignore">.gitignore</a> - list of files that should not be committed under git</li>
<li><a href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1992/buzzard.1/.path">.path</a> - directory path from top directory</li>
<li><a href="index.html">index.html</a> - this web page</li>
</ul>

<!-- END: next line ends content generated by: bin/output-index-inventory.sh -->

<!-- END: this line ends content for HTML phase 22 by: bin/output-index-inventory.sh via bin/md2html.sh -->
<!-- START: this line starts content from: inc/after-content.default.html -->

    </div>

<!-- END: this line ends content from: inc/after-content.default.html -->
<!-- START: this line starts content from: inc/footer.default.html -->

<!--

    Copyright © 1984-2024 by Landon Curt Noll. All Rights Reserved.

    You are free to share and adapt this file under the terms of this license:

	Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)

    For more information, see:

	https://creativecommons.org/licenses/by-sa/4.0/

-->

<div class="footer">
  <div id="copyright"><h2>Copyright and CC BY-SA 4.0 License</h2></div>
  <p>All IOCCC content including this file and web page are:</p>
  <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright &copy; 1984-2024 by Landon Curt Noll. <a href="https://creativecommons.org/faq/#what-does-some-rights-reserved-mean">Some Rights Reserved</a>.</b>
  <p>This work is licensed by Landon Curt Noll under:</p>
  <p><b><a href="https://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1"
  target="_blank" rel="license noopener noreferrer" style="display:inline-block;">&nbsp;&nbsp;&nbsp;&nbsp;CC BY-SA 4.0
  <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
  src="../../png/cc.png"
  alt="cc inside circle symbol">
  <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
  src="../../png/by.png"
  alt="person inside circle symbol">
  <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
  src="../../png/sa.png"
  alt="arrow looping back on itself inside circle symbol">
  </a></b></p>
  <p>The <b>CC BY-SA 4.0 LEGAL CODE</b> for this license is found under:</p>
  <p>&nbsp;&nbsp;&nbsp;<b><a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode.en">
  https://creativecommons.org/licenses/by-sa/4.0/legalcode.en</a></b></p>
  <p>You should <b>carefully review</b> all of the terms and conditions of the
  <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode.en">actual license</a>
  before using the licensed material.</p>
  <p>You may wish to review the <b><a href="../../license.html">highlights of some of the key
  features and terms</a></b> of the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode.en">actual license</a>.</p>
  <h2>Coda</h2>
  <p><a href="https://validator.w3.org/nu/?doc=https%3A%2F%2Fioccc-src.github.io%2Ftemp-test-ioccc%2F1992%2Fbuzzard.1%2Findex.html">Nu HTML check this web page</a></p>
  <p><a href="#top">Jump to top</a> <a href="#content">Jump to Content</a> <a href="#inventory">Jump to Inventory</a></p>
</div>

<!-- END: this line ends content from: inc/footer.default.html -->
<!-- START: this line starts content from: inc/bottom.default.html -->

</body>
</html>

<!-- END: this line ends content from: inc/bottom.default.html -->
