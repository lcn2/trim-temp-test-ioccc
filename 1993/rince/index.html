<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- START: two lines up starts content from: inc/top.default.html -->
<!-- -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- -->
<!-- END: this line ends content from: inc/top.default.html -->
<!-- -->
<!-- The original markdown content was formed by the tool: bin/readme2index.sh -->
<!-- The HTML was converted from markdown by the tool: bin/md2html.sh -->
<!-- -->
<!-- START: this line starts content from: inc/head.default.html -->

<head>
<link rel="stylesheet" href="../../ioccc.css">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>1993/rince - Most Well Rounded</title>
<meta name="description" content="1993 IOCCC entry rince - Most Well Rounded">
<meta name="keywords" content="IOCCC, 1993, IOCCC 1993, IOCCC entry, rince, Most Well Rounded">
</head>

<!-- END: this line ends content from: inc/head.default.html -->
<!-- START: this line starts content from: inc/body.default.html -->

<body>

<!-- END: this line ends content from: inc/body.default.html -->
<!-- START: this line starts content from: inc/header.default.html -->

<div class="header">
  <img src="../../png/ioccc.png" alt="IOCCC image by Matt Zucker" width=300 height=110>
  <h1>The International Obfuscated C Code Contest</h1>
  <h2>1993/rince - Most Well Rounded</h2>
</div>

<!-- END: this line ends content from: inc/header.default.html -->
<!-- START: this line starts content from: inc/topnav.mid.html -->

<div class="topnav">
  <a class="Left" href="../plummer/index.html">&larr; plummer</a>
  <a class="Left" href="../index.html">&uarr; 1993 &uarr;</a>
  <a class="Left" href="../schnitzi/index.html">schnitzi &rarr;</a>
  <a class="Right" href="#inventory">Inventory</a>
</div>

<!-- END: this line ends content from: inc/topnav.mid.html -->
<!-- START: this line starts content from: inc/begin-row.default.html -->

<div class="row">

<!-- END: this line ends content from: inc/begin-row.default.html -->
<!-- START: this line starts content from: inc/begin-leftcolumn.default.html -->

  <div class="leftcolumn">

<!-- END: this line ends content from: inc/begin-leftcolumn.default.html -->
<!-- START: this line starts content from: inc/sidenav.default.html -->

    <div class="sidenav">
      <a href="#content">Jump to contents</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="../../index.html">IOCCC Home</a>
      <a href="../../years.html">Winning Entries</a>
      <a href="../../winners.html">People who have won</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="../../news.html">IOCCC News</a>
      <a href="../../faq.html#submit">How to enter the IOCCC</a>
      <a href="../../faq.html">FAQ</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="../../bugs.html">Bugs &amp; (mis)features</a>
      <a href="../../faq.html#fix_a_winner">Fixing IOCCC winners</a>
      <a href="../../faq.html#fix_web_site">Fixing the web site</a>
      <a href="../../faq.html#fix_author">Fixing winner info</a>
      <a href="../../thanks-for-help.html">Thanks for the help</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="../../judges.html">The IOCCC Judges</a>
      <a href="../../contact.html">Contacting the IOCCC</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="#top">Jump to top</a>
    </div>

<!-- END: this line ends content from: inc/sidenav.default.html -->
<!-- START: this line starts content from: inc/end-leftcolumn.default.html -->

  </div>

<!-- END: this line ends content from: inc/end-leftcolumn.default.html -->
<!-- START: this line starts content from: inc/begin-rightcolumn.default.html -->

  <div class="rightcolumn">

<!-- END: this line ends content from: inc/begin-rightcolumn.default.html -->
<!-- START: this line starts content from: inc/before-content.default.html -->

    <a name="content"></a>

<!-- END: this line ends content from: inc/before-content.default.html -->
<!-- START: this line starts content for HTML phase 20 by: bin/output-index-author.sh via bin/md2html.sh -->

<!-- START: this line starts content generated by: bin/output-index-author.sh -->

<h2 id="author"><a name="author"></a>Author:</h2>
<ul>
<li>Name: <a href="../../authors.html#James_Bonfield">James
Bonfield</a><br> Location: <a href="../../location.html#GB">GB</a>
<br><br></li>
</ul>

<!-- END: next line ends content generated by: bin/output-index-author.sh -->

<!-- END: this line ends content for HTML phase 20 by: bin/output-index-author.sh via bin/md2html.sh -->
<!-- START: this line starts content for HTML phase 21 by: bin/pandoc-wrapper.sh via bin/md2html.sh -->

<h2 id="to-build">To build:</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> all</span></code></pre></div>
<p>NOTE: there are two alternate versions of this program, both allowing
one to slow down the game and the second one with movements more
familiar to vi users. See the <a href="#alternate-code">Alternate
code</a> section below.</p>
<h3 id="bugs-and-misfeatures">Bugs and (Mis)features:</h3>
<p>The current status of this entry is:</p>
<pre><code>STATUS: INABIAF - please **DO NOT** fix</code></pre>
<p>For more detailed information see <a href="/bugs.md#1993-rince">1993
rince in bugs.md</a>.</p>
<h2 id="to-use">To use:</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./rince</span> <span class="pp">[</span><span class="ss">cabbage</span><span class="pp">]</span></span></code></pre></div>
<p>where:</p>
<p><code>[cabbage]</code> is a CABBAGE description file (default:
<code>rince.c</code>)</p>
<h2 id="alternate-code">Alternate code:</h2>
<p>Some people may want to slow down the game by increasing the value 17
in the lines:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> timeval v<span class="op">=</span> <span class="op">{</span><span class="dv">0</span><span class="op">,</span><span class="dv">1</span><span class="op">&lt;&lt;</span><span class="dv">17</span><span class="op">}</span> <span class="op">;</span></span></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>refresh<span class="op">(),</span>c<span class="op">=</span>select<span class="op">(</span>k<span class="op">,&amp;</span>y<span class="op">,</span><span class="dv">0</span><span class="op">,</span><span class="dv">0</span><span class="op">,(</span>v<span class="op">.</span>tv_usec<span class="op">=</span><span class="dv">1</span><span class="op">&lt;&lt;</span><span class="dv">17</span><span class="op">,&amp;</span>v<span class="op">))?</span>getch<span class="op">():</span><span class="dv">0</span><span class="op">;</span></span></code></pre></div>
<p>to another value like 18 or 19 which you can do with the alternate
code.</p>
<p>In the case of <a href="rince.alt2.c">rince.alt2.c</a> the movement
keys for the default game are slightly different and will feel more
familiar to vi users: <code>h</code> for left, <code>l</code> for right
(that was not changed) and <code>k</code> for fire (that was also not
changed).</p>
<h3 id="alternate-build">Alternate build:</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> SLEEP=18 clobber alt</span></code></pre></div>
<p>Replace 18 with whatever number you wish.</p>
<h3 id="alternate-use">Alternate use:</h3>
<p>Use <code>rince.alt</code> or <code>rince.alt2</code> as you would
<code>rince</code> above.</p>
<h2 id="judges-remarks">Judges’ remarks:</h2>
<p>The author has provided several CABBAGE files for your amusement:</p>
<ul>
<li><p><a href="rince.data1">rince.data1</a> plays
[Breakout](https://en.wikipedia.org/wiki/Breakout_(video_game). Keys are
<code>,</code> for left, <code>/</code> for right, and <code>.</code>
for ‘fire the ball’.</p></li>
<li><p><a href="rince.data2">rince.data2</a> plays the old <a
href="/1991/rince/rince.c">Rince</a> (<a
href="/1991/rince/README.md">README.md</a> game from IOCCC
1991.</p></li>
<li><p><a href="rince.data3">rince.data3</a> Sokoban screen 11. You are
the <code>o</code> character. You must push the money <code>m</code>
into the dotted region of the screen. The game is considered finished
when all the <code>m</code>s are then <code>M</code>s.</p></li>
<li><p><a href="rince.data4">rince.data4</a> Sokoban screen 13. Same
rules as above.</p></li>
</ul>
<p>For a brief design description, see <a
href="design.md">design.md</a>.</p>
<h3 id="warning-for-sunos-4.1.x">WARNING for SunOS 4.1.x:</h3>
<p>If you are running SunOS 4.1.x (assuming you can find an ANSI
compiler in the first place), this program may be used to log out very
quickly. Unfortunately, you can’t do anything else with it.</p>
<h3 id="additional-notes">Additional notes</h3>
<p>Some people report that <code>rince</code> dumps core on their
system.</p>
<p>On some systems that use gcc, the <code>curses.h</code> used by gcc
(typically <code>/usr/local/include/curses.h</code> if not
<code>/usr/include/curses.h</code>) is not compatible with the curses
library (typically <code>/lib/libcurses.a</code> for static libraries)
used. It has been suggested that the following gcc command may help:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gcc</span> <span class="at">-fno-builtin</span> <span class="at">-I</span>/usr/include <span class="at">-o</span> rince rince.c <span class="at">-lcurses</span> <span class="at">-ltermcap</span></span></code></pre></div>
<h2 id="authors-remarks">Author’s remarks:</h2>
<p>This is a Cellular Automata Based, Beautifully Abysmal Game
Environment (or CABBAGE for short). To execute the program simply type
<code>./rince gamefile</code>, where <code>gamefile</code> is a game
description file. A few are supplied for your enjoyment. Alternatively,
with no arguments it will default to using it’s own datafile (the source
code in fact). This happens to be a game of <a
href="https://en.wikipedia.org/wiki/Space_Invaders">Space Invaders</a>.
To prevent people from firing too often a very simple method is
employed; you must move after firing to be able to fire again.</p>
<h3 id="keys">Keys</h3>
<ul>
<li><code>j</code> - Left</li>
<li><code>l</code> - Right</li>
<li><code>k</code> - Fire</li>
</ul>
<p>This is a new breed of generic games. For instance:</p>
<p>Game play : Whatever you define Keys : Whatever you define Score : If
you can figure out how to update it! Levels : Ahh well… it’s not
<em>totally</em> generic.</p>
<p>The proper definition for usage would be:
<code>./rince [data_filename]</code></p>
<h3 id="portability">Portability</h3>
<p>I have compiled in on the following systems:</p>
<pre><code>System              OS              Compiler (and flags)
DECstation 5000/240 Ultrix 4.2A     c89 -std
SPARCstation 1+     SunOS 4.1       gcc -ansi -pedantic
SPARCstation 10/31  Solaris 2.1     gcc -ansi -pedantic     (*)
DECAlpha 3000/500   OSF/1 V1.2      c89 -std
SGI Indigo (R4000)  IRIX 4.0.5F     cc -ansi
Alliant FX2800      Conentrix 3.0.0 fxc</code></pre>
<p>* I never said it worked! The guidelines state that you dislike
programs that won’t <em>compile</em> under both BSD or SysV
<code>Unix</code>. This compiles, and indeed runs on all the others
(both BSD and SysV) correctly.</p>
<p>Alas, on Solaris it compiles, but mysteriously stops displaying
output after a while until you quit with control-c, when it all catches
up again. I think the problem may lie in either <code>select(2)</code>,
or curses, (or perhaps conflict of the two).</p>
<p>The use of <code>select(2)</code> no doubt makes it less portable to
STRICT SysV machines. However I have tested this on several so-called
SysV machines, and all of them support <code>select(2)</code>. In fact,
the <code>select(2)</code> they support appears to be more portable
between them than their <code>poll()</code> call.</p>
<h3 id="obfuscation">Obfuscation</h3>
<p>I have tried to use as many different obfuscation techniques,
including some of which (such as <code>sizeof</code> confusion) I have
not seen in any winners (hmmm - perhaps there’s a reason for that…) so
far. Also, very poor structure (yes, I use <code>goto</code>’s) has led
to apparently having an <code>fgets()</code> as the last line of main.
Note that I have still tried to aim at least some efficiency (provided
it makes things slightly more obfuscated of course). One such thing is
the way I dynamically allocate a 2-dimensional array using only ONE
<code>malloc()</code>. Hence this program could be used as a tutorial
for all those people who consistently ask this question in the C
newsgroups.</p>
<p>Also, the program does require a volatile type (especially when
optimising) to perform correctly. This is the first time I have ever
truly needed this when not accessing memory external to this process
:-)</p>
<p>Of course, all the usual obfuscation lurks within, such as combining
multiple for loops into single ones; warped and twisted logic; plus a
plethora of other minor oddities. It’s up to you to discover some of
them of course… Sometimes I have sacrificed length for obfuscation. It
is all too easy to change the arguments in <code>main()</code> to one
character identifiers, but in my opinion they add to obfuscation in this
case by being longer.</p>
<p><code>lint</code> complains about lots of things. Firstly the use of
curses immediately makes <code>lint</code> complain. The Alpha’s
<code>lint</code> gave me some positive encouragement!
<code>precedence confusion possible: parenthesize!</code> :-) :-)
<code>main()</code> does not return correctly, because, basically, it
doesn’t return.</p>
<h3 id="bugs">Bugs</h3>
<p>Very little error checking is performed. I do check for not being
able to open the requested filename and return 1 upon failure. However,
badly formatted data files will cause major problems. No other checking
(such as insufficient memory) is performed.</p>
<p>There is no ‘end of game’ checking method. Hence games like Sokoban
rely on the user to decide when they have had enough. Also, there is no
quit mechanism other than control-c.</p>
<h2 id="copyright-and-cc-by-sa-4.0-license">Copyright and CC BY-SA 4.0
License:</h2>
<p>This file is Copyright (c) 2023 by Landon Curt Noll. All Rights
Reserved. You are free to share and adapt this file under the terms of
this license:</p>
<pre><code>Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)</code></pre>
<p>For more information, see:
https://creativecommons.org/licenses/by-sa/4.0/</p>

<!-- END: this line ends content for HTML phase 21 by: bin/pandoc-wrapper.sh via bin/md2html.sh -->
<!-- START: this line starts content for HTML phase 22 by: bin/output-index-inventory.sh via bin/md2html.sh -->

<!-- START: this line starts content generated by: bin/output-index-inventory.sh -->

<h1 id="inventory-for-1993rince"><a name="inventory"></a>Inventory for
1993/rince</h1>
<h2 id="primary-files">Primary files</h2>
<ul>
<li><a href="index.html">index.html</a> - entry home page</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/rince.c">rince.c</a>
- winning source</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/Makefile">Makefile</a>
- entry Makefile</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/rince.alt.c">rince.alt.c</a>
- alternative source</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/rince.alt2.c">rince.alt2.c</a>
- alternate alternative source</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/rince.orig.c">rince.orig.c</a>
- original source</li>
<li><a href="design.html">design.html</a> - implementation notes</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/rince.data1">rince.data1</a>
- CABBAGE data file</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/rince.data2">rince.data2</a>
- CABBAGE data file</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/rince.data3">rince.data3</a>
- CABBAGE data file</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/rince.data4">rince.data4</a>
- CABBAGE data file</li>
<li><a href="1993_rince.tar.bz2">1993_rince.tar.bz2</a> - download
winning source</li>
</ul>
<h2 id="secondary-files">Secondary files</h2>
<ul>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/.entry.json">.entry.json</a>
- description of entry in JSON</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/.gitignore">.gitignore</a>
- list of files that should not be committed under git</li>
<li><a href=".path">.path</a> - directory path from top directory</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/README.md">README.md</a>
- markdown source for index.html</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/1993/rince/design.md">design.md</a>
- markdown source for design.html</li>
</ul>

<!-- END: next line ends content generated by: bin/output-index-inventory.sh -->

<!-- END: this line ends content for HTML phase 22 by: bin/output-index-inventory.sh via bin/md2html.sh -->
<!-- START: this line starts content from: inc/after-content.default.html -->

<!-- END: this line ends content from: inc/after-content.default.html -->
<!-- START: this line starts content from: inc/end-rightcolumn.default.html -->

  </div>

<!-- END: this line ends content from: inc/end-rightcolumn.default.html -->
<!-- START: this line starts content from: inc/end-row.default.html -->

</div>

<!-- END: this line ends content from: inc/end-row.default.html -->
<!-- START: this line starts content from: inc/footer.default.html -->

<div class="footer">
  <hr>
  <h2>Coda</h2>
  <p><a href="https://validator.w3.org/nu/?doc=https%3A%2F%2Fioccc-src.github.io%2Ftemp-test-ioccc%2F1993%2Frince%2Findex.html">Nu HTML check this web page</a></p>
  <p><a href="#top">Jump to top</a> <a href="#content">Jump to Content</a> <a href="#inventory">Jump to Inventory</a></p>
</div>

<!-- END: this line ends content from: inc/footer.default.html -->
<!-- START: this line starts content from: inc/bottom.default.html -->

</body>
</html>

<!-- END: this line ends content from: inc/bottom.default.html -->
