<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- START: two lines up starts content from: inc/top.default.html -->
<!-- -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!! DO NOT MODIFY THIS FILE - This file is generated by a tool !!! -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- -->
<!-- END: this line ends content from: inc/top.default.html -->
<!-- -->
<!-- The original markdown content was formed by the tool: bin/readme2index.sh -->
<!-- The HTML was converted from markdown by the tool: bin/md2html.sh -->
<!-- -->
<!-- START: this line starts content from: inc/head.default.html -->

<head>
<link rel="stylesheet" href="../../ioccc.css">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>2019/ciura - Most alphabetic</title>
<meta name="description" content="2019 IOCCC entry ciura - Most alphabetic">
<meta name="keywords" content="IOCCC, 2019, IOCCC 2019, IOCCC entry, ciura, Most alphabetic">
</head>

<!-- END: this line ends content from: inc/head.default.html -->
<!-- START: this line starts content from: inc/body.default.html -->

<body>

<!-- END: this line ends content from: inc/body.default.html -->
<!-- START: this line starts content from: inc/header.default.html -->

<div class="header">
  <img src="../../png/ioccc.png" alt="IOCCC image by Matt Zucker" width=300 height=110>
  <h1>The International Obfuscated C Code Contest</h1>
  <h2>2019/ciura - Most alphabetic</h2>
</div>

<!-- END: this line ends content from: inc/header.default.html -->
<!-- START: this line starts content from: inc/topnav.mid.html -->

<div class="topnav">
  <a class="Left" href="../burton/index.html">&larr; burton</a>
  <a class="Left" href="../index.html">&uarr; 2019 &uarr;</a>
  <a class="Left" href="../diels-grabsch1/index.html">diels-grabsch1 &rarr;</a>
  <a class="Right" href="#inventory">Inventory</a>
</div>

<!-- END: this line ends content from: inc/topnav.mid.html -->
<!-- START: this line starts content from: inc/begin-row.default.html -->

<div class="row">

<!-- END: this line ends content from: inc/begin-row.default.html -->
<!-- START: this line starts content from: inc/begin-leftcolumn.default.html -->

  <div class="leftcolumn">

<!-- END: this line ends content from: inc/begin-leftcolumn.default.html -->
<!-- START: this line starts content from: inc/sidenav.default.html -->

    <div class="sidenav">
      <a href="#content">Jump to contents</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="../../index.html">IOCCC Home</a>
      <a href="../../years.html">Winning Entries</a>
      <a href="../../winners.html">People who have won</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="../../news.html">IOCCC News</a>
      <a href="../../faq.html#submit">How to enter the IOCCC</a>
      <a href="../../faq.html">FAQ</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="../../bugs.html">Bugs &amp; (mis)features</a>
      <a href="../../faq.html#fix_a_winner">Fixing IOCCC winners</a>
      <a href="../../faq.html#fix_web_site">Fixing the web site</a>
      <a href="../../faq.html#fix_author">Fixing winner info</a>
      <a href="../../thanks-for-help.html">Thanks for the help</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="../../judges.html">The IOCCC Judges</a>
      <a href="../../contact.html">Contacting the IOCCC</a>
    </div>
    <hr>
    <div class="sidenav">
      <a href="#top">Jump to top</a>
    </div>

<!-- END: this line ends content from: inc/sidenav.default.html -->
<!-- START: this line starts content from: inc/end-leftcolumn.default.html -->

  </div>

<!-- END: this line ends content from: inc/end-leftcolumn.default.html -->
<!-- START: this line starts content from: inc/begin-rightcolumn.default.html -->

  <div class="rightcolumn">

<!-- END: this line ends content from: inc/begin-rightcolumn.default.html -->
<!-- START: this line starts content from: inc/before-content.default.html -->

    <a name="content"></a>

<!-- END: this line ends content from: inc/before-content.default.html -->
<!-- START: this line starts content generated by: bin/output-index-author.sh -->

<h2 id="author"><a name="author"></a>Author:</h2>
<ul>
<li>Name: <a href="../../authors.html#Marcin_Ciura">Marcin Ciura</a><br>
Location: <a href="../../location.html#PL">PL</a> <br><br></li>
</ul>

<!-- END: next line ends content generated by: bin/output-index-author.sh -->
<h2 id="to-build">To build:</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span></span></code></pre></div>
<p>There is an alternate version available. See <a
href="#alternate-code">Alternate code</a> below.</p>
<h3 id="bugs-and-misfeatures">Bugs and (Mis)features:</h3>
<p>The current status of this entry is:</p>
<pre><code>STATUS: INABIAF - please **DO NOT** fix</code></pre>
<p>For more detailed information see <a href="/bugs.md#2019-ciura">2019
ciura in bugs.md</a>.</p>
<h2 id="to-use">To use:</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./getwords.sh</span> en <span class="kw">|</span> <span class="fu">grep</span> .. <span class="kw">|</span> <span class="ex">./prog</span> string</span></code></pre></div>
<h2 id="try">Try:</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./try.sh</span></span></code></pre></div>
<h2 id="alternate-code">Alternate code:</h2>
<p>There is an alternate version of this code that flushes
<code>stdout</code> after writing a newline. See the Author’s remarks
for more information.</p>
<h3 id="alternate-build">Alternate build:</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> alt</span></code></pre></div>
<h3 id="alternate-use">Alternate use:</h3>
<p>Use <code>prog.alt</code> as you would <code>prog</code> above.</p>
<h3 id="alternate-try">Alternate try:</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./try.alt.sh</span></span></code></pre></div>
<h2 id="judges-remarks">Judges’ remarks:</h2>
<p>A few letters, one at a time, with no repeats. How many different
ways can this be done?</p>
<p>While a quick brown fox might jump over the lazy dog, it has too many
repeat letters to allow this entry to repeat. It is better that Mr Jock,
TV quiz PhD, bags few lynx.</p>
<p>Speaking of jumping, can you rewrite the code to remove all of the
goto jumps in this code?</p>
<h2 id="authors-remarks">Author’s remarks:</h2>
<h3 id="what-is-this">What is this? <a name="wit"></a></h3>
<p>This entry reads from standard input a list of words in any language
written with an alphabet and outputs perfect pangrams composed of these
words. A perfect pangram is a series of words that contains every letter
of the alphabet exactly once.</p>
<h4 id="example-execution">Example execution:</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> grep .. /usr/share/dict/words <span class="kw">|</span> <span class="ex">./prog</span> abcdefghijklmnopqrstuvwxyz</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">qualm</span> fjord wiz pyx vs beg kc nth</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">quartz</span> jinx vs fed kc womb glyph</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="ex">quid</span> jamb fez vs pyx kc growl nth</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> fjord pyx vs bag kc mewl nth</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> fjord pyx vs gab kc mewl nth</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> fjord pyx vs gem bawl kc nth</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> fjord pyx vs meg bawl kc nth</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> fjord vex bawl kc gyp ms nth</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> jamb flex vs kc gyp word nth</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> jamb pyx vs kc flog drew nth</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> jamb pyx vs kc frog lewd nth</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> jamb pyx vs kc frog weld nth</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> jamb pyx vs kc golf drew nth</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> jamb pyx vs kc grew fold nth</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> jamb pyx vs kc grow nth fled</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="ex">quiz</span> jamb pyx vs kc growl fed nth</span></code></pre></div>
<p>Rearranging the words into more or less meaningful expressions is the
user’s duty.</p>
<p>This entry implements Algorithm X (<em>Exact cover via dancing
links</em>) from Section 7.2.2.1 in fascicle 5C of <em>The Art of
Computer Programming</em> by Donald E. Knuth. As of June 2019, you can
download an incomplete draft of the fascicle from <a
href="https://www-cs-faculty.stanford.edu/~knuth/fasc5c.ps.gz">Knuth’s
website</a>, converted to PDF as <a href="fasc5c.pdf">fasc5c.pdf</a> for
your convenience.</p>
<h3 id="usage">Usage:</h3>
<p><code>./prog LETTERS [N]</code></p>
<p>reads allowed words from standard input and writes perfect pangrams
with at most <code>N</code> words composed of <code>LETTERS</code> to
standard output, one per line. If <code>N</code> is not given, the
number of words in the pangrams is unlimited. The characters in
<code>LETTERS</code> must not repeat. The length of <code>LETTERS</code>
must not exceed 97 characters.</p>
<p>The exit status is 0 if no error occurred, 1 if the input word list
is too long, and 2 if the command-line arguments are missing.</p>
<h3 id="helper-scripts">Helper scripts:</h3>
<ul>
<li><p><a href="getwords.sh">getwords.sh</a></p>
<p><code>./getwords.sh LANGUAGE_CODE</code></p>
<p>outputs a sorted list of unique words in a given language, one per
line. It requires <code>aspell</code> with a dictionary for
<em>LANGUAGE_CODE</em>.</p></li>
<li><p><a href="wrapprog.py">wrapprog.py</a></p>
<p><code>./wrapprog.py LETTERS [N]</code></p>
<p>works similarly to <code>./prog LETTERS [N]</code> except that it
merges pangrams before passing them to <code>prog</code> and expands
them in <code>prog</code>’s output. This way, it finishes the job faster
than <code>prog</code> when there are millions of perfect pangrams. It
requires a UTF-8 locale.</p></li>
<li><p><a href="de.sh">de.sh</a>, <a href="en.sh">en.sh</a>, <a
href="fr.sh">fr.sh</a>, <a href="it.sh">it.sh</a>, <a
href="pl.sh">pl.sh</a>, and <a href="ru.sh">ru.sh</a> output German,
English, French, Italian, Polish, and Russian perfect pangrams,
respectively. They require a UTF-8 locale.</p></li>
</ul>
<h3 id="miscellaneous-remarks">Miscellaneous remarks:</h3>
<p>I dare submit this entry to categories <em>algorithms</em>,
<em>internationalization</em> (I have not found active use of
<code>&lt;wchar.h&gt;</code> among the programs that won IOCCC in the
past), and <em>obscure bugs</em> (see the questions about Linux core
dumps below).</p>
<p>To a casual eye, this entry may look similar to <a
href="/2005/klausler/README.md">2005/klausler</a>. However,
<code>prog</code> is internationalized and way faster. On my machine,
<code>./klausler abcdefghijklmnopqrstuvwxyz</code> printed only 3,965
perfect pangrams until I killed it after 144 hours running, while the
equivalent
<code>tr A-Z a-z &lt; /usr/share/dict/words | egrep -v '^[^ais]$' | ./prog abcdefghijklmnopqrstuvwxyz | wc -l</code>
finished in 62 minutes, reporting 1,640,569,315 perfect pangrams, and
the example from section <a href="#wit">What is this?</a> finished in
1.35 seconds. On the other hand, <code>prog</code> can only output
series of words with non-repeating characters, unlike
<code>klausler</code>.</p>
<p>In contrast to <a href="prog.alt.c">prog.alt.c</a>, <a
href="prog.c">prog.c</a> does not call <code>fflush(stdout)</code> after
outputting each line, thus running faster. I am grateful to Witold
Jarnicki for suggesting this change. The original <code>prog</code>
finished the example above in 100 minutes instead of 62 minutes.</p>
<p>If your word list contains meaningless one-letter words, pipe
<code>grep .. [FILE]</code> through <code>prog</code> to eliminate the
pangrams that contain them.</p>
<p>According to <code>prog</code> and <code>aspell</code>, some
languages, e.g. Spanish, have no perfect pangrams.</p>
<p>Why does <code>yes | ./prog y</code> hang on Linux? Change
<code>static int</code> to <code>int</code> and
<code>static wchar_t</code> to <code>wchar_t</code>, and recompile
<code>prog</code>. Why does <code>yes | ./prog y</code> dump core now?
Change the line <code>#define P 9&lt;&lt;23^1</code> to
<code>#define P 9&lt;&lt;23</code> and recompile <code>prog</code>. Why
does <code>yes | ./prog y</code> exit gracefully?</p>
<p>Answer: As of June 2019, thus manifest bugs in <code>glibc</code>
2.22–2.29: <a
href="https://sourceware.org/bugzilla/show_bug.cgi?id=20568">1</a> naq
<a
href="https://sourceware.org/bugzilla/show_bug.cgi?id=20632">2</a>.</p>
<p>The source code uses <code>goto</code> three times. While it could
easily get by without <code>goto M</code> and <code>goto H</code>, I
challenge the adherents of structured programming to refactor
<code>goto T</code>, which jumps back into a nested <code>if</code>
block.</p>
<p>With the supplied <a href="Makefile">Makefile</a>, both
<code>gcc</code> and <code>clang</code> compile <a
href="prog.c">prog.c</a> without warnings in C11 and C99 mode. For a
clean compilation with <code>gcc -std=c90</code>, add
<code>-Wno-format</code> to <code>CSILENCE</code> in
<code>Makefile</code>.</p>
<h2 id="copyright-and-cc-by-sa-4.0-license">Copyright and CC BY-SA 4.0
License:</h2>
<p>This file is Copyright (c) 2023 by Landon Curt Noll. All Rights
Reserved. You are free to share and adapt this file under the terms of
this license:</p>
<pre><code>Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)</code></pre>
<p>For more information, see:
https://creativecommons.org/licenses/by-sa/4.0/</p>
<!-- START: this line starts content generated by: bin/output-index-inventory.sh -->

<h1 id="inventory-for-2019ciura"><a name="inventory"></a>Inventory for
2019/ciura</h1>
<h2 id="primary-files">Primary files</h2>
<ul>
<li><a href="index.html">index.html</a> - entry home page</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/prog.c">prog.c</a>
- winning source</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/Makefile">Makefile</a>
- entry Makefile</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/prog.alt.c">prog.alt.c</a>
- alternative source</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/prog.orig.c">prog.orig.c</a>
- original source</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/de.alt.sh">de.alt.sh</a>
- how to run alternative code in Germain</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/en.alt.sh">en.alt.sh</a>
- how to run alternative code in English</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/getwords.sh">getwords.sh</a>
- how to run</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/it.alt.sh">it.alt.sh</a>
- how to run alternative code in Italian</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/pl.alt.sh">pl.alt.sh</a>
- how to run alternative code in Polish</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/ru.alt.sh">ru.alt.sh</a>
- how to run alternative code in Russian</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/try.alt.sh">try.alt.sh</a>
- how to run alternative code</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/try.sh">try.sh</a>
- how to run</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/wrapprog.py">wrapprog.py</a>
- merge pangrams before passing them to prog</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/de.sh">de.sh</a>
- run with German data</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/en.sh">en.sh</a>
- run with English data</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/fr.alt.sh">fr.alt.sh</a>
- how to run alternative code in French</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/fr.sh">fr.sh</a>
- run with French data</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/it.sh">it.sh</a>
- run with Italian data</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/pl.sh">pl.sh</a>
- run with Polish data</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/ru.sh">ru.sh</a>
- run with Russian data</li>
<li><a href="fasc5c.pdf">fasc5c.pdf</a> - The Art of Computer
Programming vol 4 draft</li>
<li><a href="2019_ciura.tar.bz2">2019_ciura.tar.bz2</a> - download
winning source</li>
</ul>
<h2 id="secondary-files">Secondary files</h2>
<ul>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/.entry.json">.entry.json</a>
- description of entry in JSON</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/.gitignore">.gitignore</a>
- list of files that should not be committed under git</li>
<li><a href=".path">.path</a> - directory path from top directory</li>
<li><a
href="https://github.com/ioccc-src/temp-test-ioccc/blob/master/2019/ciura/README.md">README.md</a>
- markdown source for index.html</li>
</ul>

<!-- END: next line ends content generated by: bin/output-index-inventory.sh -->
<!-- START: this line starts content from: inc/after-content.default.html -->

<!-- END: this line ends content from: inc/after-content.default.html -->
<!-- START: this line starts content from: inc/end-rightcolumn.default.html -->

  </div>

<!-- END: this line ends content from: inc/end-rightcolumn.default.html -->
<!-- START: this line starts content from: inc/end-row.default.html -->

</div>

<!-- END: this line ends content from: inc/end-row.default.html -->
<!-- START: this line starts content from: inc/footer.default.html -->

<div class="footer">
  <hr>
  <h2>Coda</h2>
  <p><a href="https://validator.w3.org/nu/?doc=https%3A%2F%2Fioccc-src.github.io%2Ftemp-test-ioccc%2F2019%2Fciura%2Findex.html">Nu HTML check this web page</a></p>
  <p><a href="#top">Jump to top</a> <a href="#content">Jump to Content</a> <a href="#inventory">Jump to Inventory</a></p>
</div>

<!-- END: this line ends content from: inc/footer.default.html -->
<!-- START: this line starts content from: inc/bottom.default.html -->

</body>
</html>

<!-- END: this line ends content from: inc/bottom.default.html -->
